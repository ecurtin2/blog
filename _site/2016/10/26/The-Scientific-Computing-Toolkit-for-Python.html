<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.4.0 -->
<title>The Scientific Computing Toolkit for Python | Evan’s Blog!</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="The Scientific Computing Toolkit for Python" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Overthinking simple questions since 2016 (kinda)." />
<meta property="og:description" content="Overthinking simple questions since 2016 (kinda)." />
<link rel="canonical" href="http://localhost:4000/2016/10/26/The-Scientific-Computing-Toolkit-for-Python.html" />
<meta property="og:url" content="http://localhost:4000/2016/10/26/The-Scientific-Computing-Toolkit-for-Python.html" />
<meta property="og:site_name" content="Evan’s Blog!" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-10-26T00:00:00-05:00" />
<script type="application/ld+json">
{"description":"Overthinking simple questions since 2016 (kinda).","@type":"BlogPosting","url":"http://localhost:4000/2016/10/26/The-Scientific-Computing-Toolkit-for-Python.html","headline":"The Scientific Computing Toolkit for Python","dateModified":"2016-10-26T00:00:00-05:00","datePublished":"2016-10-26T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2016/10/26/The-Scientific-Computing-Toolkit-for-Python.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Evan's Blog!" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Evan&#39;s Blog!</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/Blog.html">Blog</a><a class="page-link" href="/LICENSE.html">License</a><a class="page-link" href="/about.html">About</a><a class="page-link" href="/CV.html">CV</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">The Scientific Computing Toolkit for Python</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2016-10-26T00:00:00-05:00" itemprop="datePublished">Oct 26, 2016
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><img src="/assets/posts/2016-10-26-The-Scientific-Computing-Toolkit-for-Python/output_55_0.png" alt="png" /></p>

<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

<h2 id="getting-started">Getting Started</h2>
<hr />

<p>This presentation is no help if you can’t get the python packages it uses! There are a few options here. If you’re not already set up, probably the easiest way to install python packages is <a href="https://pip.pypa.io/en/stable/">pip</a>. If you don’t already have it, here are <a href="https://packaging.python.org/installing/#install-pip-setuptools-and-wheel">installation instructions</a>. I’m a big fan of the <a href="https://www.continuum.io/">anaconda</a> python distrubution, which comes pre-loaded with basically everything I’m using today. Just use whatever works for you.</p>

<p>For example, installing numpy is easy, in a command line:</p>

<p>pip install numpy</p>

<p>If you’re using anaconda, you can also use their package manager:</p>

<p>conda install numpy</p>

<p>Pip is probably the preferred method, even when you’re using anaconda. The packages I’m discussing today are <a href="http://www.numpy.org/">numpy</a>, <a href="https://www.scipy.org/">scipy</a>, <a href="http://pandas.pydata.org/">pandas</a>, <a href="http://matplotlib.org/">matplotlib</a>, <a href="https://seaborn.github.io/">seaborn</a>.</p>

<p>Other useful tools are <a href="http://numba.pydata.org/">Numba</a> and <a href="http://cython.org/">Cython</a>. As far as I know, all of these are in both package managers.</p>

<p>I’ve recently been told that pandas depends on cython and seaborn depends on pandas.</p>

<p>You should therefore install cython -&gt; pandas -&gt; seaborn in that order.</p>

<p>This talk was made using a <a href="http://jupyter.org/">jupyter</a> notebook.</p>

<h2 id="python-is-slow-why-bother">Python is slow! Why bother?</h2>
<hr />

<p>This is a common reason people want to avoid python, and it’s half true. See for example this function that performs a matrix multiplication:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">math</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">300</span>

<span class="n">mat1</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.5</span><span class="o">*</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)]</span>
<span class="n">mat2</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">2.5</span><span class="o">*</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)]</span>

<span class="k">def</span> <span class="nf">mmult</span><span class="p">(</span><span class="n">mat1</span><span class="p">,</span> <span class="n">mat2</span><span class="p">):</span>
    <span class="n">mat3</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)]</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>     
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>  
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>  
                <span class="n">mat3</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">+=</span> <span class="n">mat1</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">*</span> <span class="n">mat2</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">mat3</span>

<span class="o">%</span><span class="n">time</span> <span class="n">m3</span> <span class="o">=</span> <span class="n">mmult</span><span class="p">(</span><span class="n">mat1</span><span class="p">,</span> <span class="n">mat2</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CPU times: user 3.78 s, sys: 0 ns, total: 3.78 s
Wall time: 3.78 s
</code></pre></div></div>

<p>Well that doesn’t seem so bad! This would take longer to do by hand! It actually is pretty slow.  <a href="https://jakevdp.github.io/blog/2014/05/09/why-python-is-slow/">Here’s</a>
a look at some of the reasons why. It has to do with the fact that python is dynamically typed and interpreted, rather than compiled. Additionally, the arrays in native python aren’t laid out in one chunk of memory.</p>

<h2 id="it-doesnt-have-to-be-this-way-numpy-section">It doesn’t have to be this way! (Numpy section)</h2>
<hr />

<p>If you’re going to be doing serious numerical work in python, numpy is essential. If you’re doing a lot of work with arrays, the performance difference between raw python and C/C++/Fortran can easily be several orders of magnitude. Numpy is focused on fast, efficient manipulation of arrays. They can be any size, any dimension as long as your computer can store it. Numpy methods are compiled and very efficient (comparable to compiled code). Let’s take a look at our matrix multiply again:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span> <span class="c"># convention</span>

<span class="n">npmat1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">mat1</span><span class="p">)</span> <span class="c"># use numpy arrays, they are contiguous in memory</span>
<span class="n">npmat2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">mat2</span><span class="p">)</span>

<span class="o">%</span><span class="n">time</span> <span class="n">npmat3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">npmat1</span><span class="p">,</span> <span class="n">npmat2</span><span class="p">)</span> <span class="c"># dot is used for dot product or matrix multiply</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CPU times: user 4 ms, sys: 4 ms, total: 8 ms
Wall time: 5.86 ms
</code></pre></div></div>

<p>WHOA! Blazing fast! Morale of the story: if there is a numpy function to do it, use it! And there  is a numpy function for a lot of stuff, here’s a few useful ones:</p>

<p><a href="http://docs.scipy.org/doc/numpy-1.10.0/reference/generated/numpy.linalg.eig.html">np.linalg.eig</a> - eigenvectors/values</p>

<p><a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.zeros.html">np.zeros</a> - create an array of zeros</p>

<p><a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.linspace.html">np.linspace</a> - create an array of values spaced linearly between 2 endpoints</p>

<p><a href="http://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.sort.html">np.sort</a> - Sort an array</p>

<p><a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.amax.html">np.amax</a> - Return maximum value of array</p>

<p><a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.random.rand.html">np.random.rand</a> - create array of random values in [0, 1)</p>

<p>There’s about 3 trillion more …</p>

<h2 id="a-few-useful-tips-about-numpy-arrays">A few useful tips about numpy arrays:</h2>
<hr />
<h3 id="1-most-normal-operations-are-element-wise">1) Most ‘normal’ operations are element-wise:</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
             <span class="p">,[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
             <span class="p">,[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
<span class="k">print</span><span class="p">(</span><span class="mi">10</span> <span class="o">+</span> <span class="n">A</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[11 12 13]
 [14 15 16]
 [17 18 19]]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">A</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[ 2  4  6]
 [ 8 10 12]
 [14 16 18]]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">A</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[False False False]
 [False  True False]
 [False False False]]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">]</span>
             <span class="p">,[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">]</span>
             <span class="p">,[</span><span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">90</span><span class="p">]])</span>
<span class="k">print</span><span class="p">(</span><span class="n">A</span> <span class="o">+</span> <span class="n">B</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[11 22 33]
 [44 55 66]
 [77 88 99]]
</code></pre></div></div>

<h3 id="2-you-can-slice-numpy-arrays">2) You can ‘slice’ numpy arrays</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">A</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">])</span>  <span class="c"># 3rd column (starts at 0)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[1 2 3]
 [4 5 6]
 [7 8 9]] 

[3 6 9]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">:])</span>  <span class="c">#Second row</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[4 5 6]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span> <span class="c"># Top-Left 2x2 section</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[1 2]
 [4 5]]
</code></pre></div></div>

<h3 id="3-you-can-index-a-numpy-array-with-a-numpy-array">3) You can index a numpy array… with a numpy array</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[1 2 3]
 [4 5 6]
 [7 8 9]]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">indices</span><span class="p">])</span>  <span class="c"># first and third row</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[1 2 3]
 [7 8 9]]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">A</span><span class="p">[:,</span><span class="n">indices</span><span class="p">])</span>  <span class="c"># first and third column</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[1 3]
 [4 6]
 [7 9]]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">indices2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([[</span><span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">]</span>
                     <span class="p">,[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">]</span>
                     <span class="p">,[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">]])</span>
<span class="k">print</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">indices2</span><span class="p">])</span>  <span class="c"># All elements where indices2 is True</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[1 2 3]
 [4 5 6]
 [7 8 9]] 

[1 2 5 6]
</code></pre></div></div>

<h3 id="4-and-you-can-combine-operations">4) And you can combine operations</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">symmetric</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
                     <span class="p">,[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
                     <span class="p">,[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>

<span class="n">asymmetric</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
                      <span class="p">,[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
                      <span class="p">,[</span><span class="mi">42</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
</code></pre></div></div>

<p>Maybe to check if a matrix is symmetric</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">np</span><span class="o">.</span><span class="nb">all</span><span class="p">(</span><span class="n">symmetric</span><span class="o">.</span><span class="n">T</span> <span class="o">==</span> <span class="n">symmetric</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>True
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">np</span><span class="o">.</span><span class="nb">all</span><span class="p">(</span><span class="n">asymmetric</span><span class="o">.</span><span class="n">T</span> <span class="o">==</span> <span class="n">asymmetric</span><span class="p">)</span>  <span class="c"># WARNING if using floats, compare</span>
                                    <span class="c"># with np.isclose(x.T, x)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>False
</code></pre></div></div>

<p>Or to sort eigenvales and eigenvectors so that the eigenvalues are in ascending order, and you keep track of the vectors!</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">vals</span><span class="p">,</span> <span class="n">vecs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">eig</span><span class="p">(</span><span class="n">symmetric</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">vals</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">vecs</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>

<span class="n">indices_of_sorted_vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">vals</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">vals</span><span class="p">[</span><span class="n">indices_of_sorted_vals</span><span class="p">])</span>     
<span class="k">print</span><span class="p">(</span><span class="n">vecs</span><span class="p">[:,</span> <span class="n">indices_of_sorted_vals</span><span class="p">])</span>  <span class="c"># columns are rearranged</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[-3.  9. -3.]
[[-0.81649658  0.57735027  0.19219669]
 [ 0.40824829  0.57735027 -0.7833358 ]
 [ 0.40824829  0.57735027  0.59113912]]


[-3. -3.  9.]
[[-0.81649658  0.19219669  0.57735027]
 [ 0.40824829 -0.7833358   0.57735027]
 [ 0.40824829  0.59113912  0.57735027]]
</code></pre></div></div>

<h2 id="scipy">Scipy</h2>
<hr />

<p>We’re all scientists here, so It would be silly to avoid scipy. It’s a library of scientifically relevant tools. Here’s a list of some of the submodules:</p>

<p>Special functions (scipy.special)</p>

<p>Integration (scipy.integrate)</p>

<p>Optimization (scipy.optimize)</p>

<p>Interpolation (scipy.interpolate)</p>

<p>Fourier Transforms (scipy.fftpack)</p>

<p>Signal Processing (scipy.signal)</p>

<p>Linear Algebra (scipy.linalg)</p>

<p>Sparse Eigenvalue Problems with ARPACK</p>

<p>Compressed Sparse Graph Routines (scipy.sparse.csgraph)</p>

<p>Spatial data structures and algorithms (scipy.spatial)</p>

<p>Statistics (scipy.stats)</p>

<p>Multidimensional image processing (scipy.ndimage)</p>

<p>File IO (scipy.io)</p>

<p>Weave (scipy.weave)</p>

<p>The various python modules make it super easy to do lots of things, like making a function that returns the nth harmonic oscillator wavefunction:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">factorial</span><span class="p">,</span> <span class="n">pi</span>
<span class="kn">from</span> <span class="nn">scipy.special</span> <span class="kn">import</span> <span class="n">hermite</span> <span class="k">as</span> <span class="n">h</span>

<span class="k">def</span> <span class="nf">psi</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="n">N</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="n">n</span><span class="p">)</span> <span class="o">*</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="n">pi</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">N</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">h</span><span class="p">(</span><span class="n">n</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div></div>

<p>If I try to cover all of scipy it will get boring fast… you can look up functions as you need them</p>

<h2 id="matplotlib">Matplotlib</h2>
<hr />

<p>Matplotlib is the tool to go to for quick plotting stuff in Python. It can handle 2D, 3D, and even animations.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="c"># Jupyter  "Magic", just so you see the images in the notebook</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span> 

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>   <span class="c"># list of x from 0 to 10 by 100 steps</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>                 <span class="c"># take the sign of each element in x</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>                <span class="c"># do I have to explain this one?</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="/assets/posts/2016-10-26-The-Scientific-Computing-Toolkit-for-Python/output_30_0.png" alt="png" /></p>

<p>To plot multiple things at once, call plt.plot() more than once</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">plot_HO</span><span class="p">(</span><span class="n">N</span><span class="p">):</span> <span class="c"># plot N wavefunctions</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>


    <span class="n">ymax</span> <span class="o">=</span> <span class="n">N</span> <span class="o">+</span> <span class="mf">1.5</span>
    <span class="n">xmax</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">ymax</span><span class="p">)</span>    <span class="c"># figuring out plot ranges</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">xmax</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>                       <span class="c"># from n = [0...N)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">psi</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">))</span>   <span class="c"># Plot the wavefunction offset by</span>
                                             <span class="c"># energy</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="s">'k'</span><span class="p">)</span>  <span class="c"># Plot the potential</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="o">-</span><span class="n">xmax</span><span class="p">,</span> <span class="n">xmax</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">plot_HO</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="/assets/posts/2016-10-26-The-Scientific-Computing-Toolkit-for-Python/output_32_0.png" alt="png" /></p>

<p>Matplotlib has functions for scatterplots, pie charts, bar graphs, heatmaps blah blah blah…</p>

<h2 id="pandas">Pandas</h2>
<hr />

<p>I recently started using Pandas in my research, and It’s already proven incredibly useful for data analysis. The library is focused on the Series and the DataFrame.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>

<span class="n">series1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">72</span><span class="p">])</span>
<span class="n">series1</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0     4.0
1     2.5
2     8.0
3    72.0
dtype: float64
</code></pre></div></div>

<p>I don’t know about you, but this isn’t the most impressive thing to me… just hold on.</p>

<p>Here’s an example of a DataFrame, the reason I’m in love with this library</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Cols</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Rain'</span><span class="p">,</span> <span class="s">'Temperature'</span><span class="p">,</span> <span class="s">'Wind'</span><span class="p">]</span>
<span class="n">Dates</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s">'20161020'</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="c"># 3 cols 10 rows</span>

<span class="n">df</span><span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">Dates</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">Cols</span><span class="p">)</span>
<span class="n">df</span>
</code></pre></div></div>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Rain</th>
      <th>Temperature</th>
      <th>Wind</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2016-10-20</th>
      <td>0.193955</td>
      <td>0.350702</td>
      <td>0.618494</td>
    </tr>
    <tr>
      <th>2016-10-21</th>
      <td>0.707791</td>
      <td>0.823698</td>
      <td>0.548552</td>
    </tr>
    <tr>
      <th>2016-10-22</th>
      <td>0.851024</td>
      <td>0.983293</td>
      <td>0.709565</td>
    </tr>
    <tr>
      <th>2016-10-23</th>
      <td>0.434959</td>
      <td>0.669047</td>
      <td>0.405353</td>
    </tr>
    <tr>
      <th>2016-10-24</th>
      <td>0.398242</td>
      <td>0.252898</td>
      <td>0.604027</td>
    </tr>
    <tr>
      <th>2016-10-25</th>
      <td>0.620698</td>
      <td>0.142928</td>
      <td>0.551496</td>
    </tr>
    <tr>
      <th>2016-10-26</th>
      <td>0.438231</td>
      <td>0.620494</td>
      <td>0.525627</td>
    </tr>
    <tr>
      <th>2016-10-27</th>
      <td>0.424516</td>
      <td>0.189178</td>
      <td>0.570212</td>
    </tr>
    <tr>
      <th>2016-10-28</th>
      <td>0.093206</td>
      <td>0.278414</td>
      <td>0.980758</td>
    </tr>
    <tr>
      <th>2016-10-29</th>
      <td>0.429858</td>
      <td>0.857150</td>
      <td>0.886912</td>
    </tr>
  </tbody>
</table>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="s">'Rain'</span><span class="p">]</span>  <span class="c"># Grab all the stuff in 'Rain' column</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2016-10-20    0.193955
2016-10-21    0.707791
2016-10-22    0.851024
2016-10-23    0.434959
2016-10-24    0.398242
2016-10-25    0.620698
2016-10-26    0.438231
2016-10-27    0.424516
2016-10-28    0.093206
2016-10-29    0.429858
Freq: D, Name: Rain, dtype: float64
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s">'2016-10-23'</span><span class="p">]</span>  <span class="c"># locate this date</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Rain           0.434959
Temperature    0.669047
Wind           0.405353
Name: 2016-10-23 00:00:00, dtype: float64
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>  <span class="c"># grab the 3rd row</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Rain           0.851024
Temperature    0.983293
Wind           0.709565
Name: 2016-10-22 00:00:00, dtype: float64
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>  <span class="c"># Plot all the stuff</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f67de0d2e80&gt;
</code></pre></div></div>

<p><img src="/assets/posts/2016-10-26-The-Scientific-Computing-Toolkit-for-Python/output_41_1.png" alt="png" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">'Rain'</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">'Temperature'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="/assets/posts/2016-10-26-The-Scientific-Computing-Toolkit-for-Python/output_42_0.png" alt="png" /></p>

<p>You can find data by name and apply an operation to it, like checking which days had small amounts of rain:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="s">'Rain'</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">0.1</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2016-10-20    False
2016-10-21    False
2016-10-22    False
2016-10-23    False
2016-10-24    False
2016-10-25    False
2016-10-26    False
2016-10-27    False
2016-10-28     True
2016-10-29    False
Freq: D, Name: Rain, dtype: bool
</code></pre></div></div>

<p>Hmm, that’s pretty nice isn’t it? What if we could easily select only the parts that satisfy our condition? ….</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">'Rain'</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">0.1</span><span class="p">]</span>
</code></pre></div></div>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Rain</th>
      <th>Temperature</th>
      <th>Wind</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2016-10-28</th>
      <td>0.093206</td>
      <td>0.278414</td>
      <td>0.980758</td>
    </tr>
  </tbody>
</table>
</div>

<p>Ok that’s pretty neat. I think this alone is useful. But we’re just getting started!</p>

<p>What if we could find all parts of our data frame that satisfy a given condition, then plot two other columns of that data? Say no more…</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">TempsAbove</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">'Temperature'</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">]</span>
<span class="n">TempsAbove</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="s">'Rain'</span><span class="p">,</span> <span class="s">'Wind'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="/assets/posts/2016-10-26-The-Scientific-Computing-Toolkit-for-Python/output_48_0.png" alt="png" /></p>

<p>The reason I like this library so much is that you can use the past few examples, combining them as you wish, and analyze huge amounts of data in seconds. Lately I’ve written a function to do a custom plot on each row of a dataframe (optionally you can apply a condition to a dataframe and pass that through). I take my output files, parse them and put them into a dataframe. This lets me go from a directory of output files to a ton of plots in seconds, with little effort.</p>

<h2 id="seaborn">Seaborn</h2>
<hr />

<p>*Update: As of matplotlib 2.0, the style defaults there are actually good. Seaborn is now less useful if you’re not doing statistical plots. *</p>

<p>Let’s face it: I’ve been to enough talks to know that most people don’t know how to make visually appealing figures. Well the good news is that you don’t have to. Trust in Seaborn, for it is magnificent.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="n">sns</span> <span class="c"># importing changes defaults</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[&lt;matplotlib.lines.Line2D at 0x7f67ddf5d3c8&gt;]
</code></pre></div></div>

<p><img src="/assets/posts/2016-10-26-The-Scientific-Computing-Toolkit-for-Python/output_51_1.png" alt="png" /></p>

<p>This is the default with nothing done, the library was made to have nice colorschemes out of the box, but I prefer a less intrusive background</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s">'white'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[&lt;matplotlib.lines.Line2D at 0x7f67dafe6cf8&gt;]
</code></pre></div></div>

<p><img src="/assets/posts/2016-10-26-The-Scientific-Computing-Toolkit-for-Python/output_53_1.png" alt="png" /></p>

<p>Remember our harmonic oscillator plots?</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plot_HO</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="/assets/posts/2016-10-26-The-Scientific-Computing-Toolkit-for-Python/output_55_0.png" alt="png" /></p>

<p>There are a lot of built in plots, mostly for discrete data points and statistics. I mostly use the color palettes and things like that, but if you need to do statistical plots, look no further</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Cols</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Rain'</span><span class="p">,</span> <span class="s">'Temperature'</span><span class="p">,</span> <span class="s">'Wind'</span><span class="p">]</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">Dates</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s">'20161020'</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">scipy.signal</span> <span class="kn">import</span> <span class="n">gaussian</span>
<span class="n">rain</span> <span class="o">=</span> <span class="n">gaussian</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>         
<span class="n">Temp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">6.28</span><span class="p">,</span> <span class="n">N</span><span class="p">))</span>
<span class="n">Wind</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">N</span><span class="p">))</span> <span class="o">*</span> <span class="mf">0.3</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">N</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">rain</span>
<span class="n">data</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">Temp</span>
<span class="n">data</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">Wind</span>

<span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">Dates</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">Cols</span><span class="p">)</span>
<span class="n">df2</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="/assets/posts/2016-10-26-The-Scientific-Computing-Toolkit-for-Python/output_57_0.png" alt="png" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="o">.</span><span class="n">jointplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">'Rain'</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">'Wind'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df2</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;seaborn.axisgrid.JointGrid at 0x7f67ddffb320&gt;
</code></pre></div></div>

<p><img src="/assets/posts/2016-10-26-The-Scientific-Computing-Toolkit-for-Python/output_58_1.png" alt="png" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Abs'</span><span class="p">,</span> <span class="s">'Conc'</span><span class="p">,</span> <span class="s">'Molecule'</span><span class="p">,</span> <span class="s">'Temp'</span><span class="p">]</span>

<span class="n">Temps</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">75</span><span class="p">]</span>
<span class="n">Molecules</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Blue Dye'</span><span class="p">,</span> <span class="s">'Orange Dye'</span><span class="p">]</span>
<span class="n">Absorptivity</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]</span>   <span class="c"># whatever units makes this reasonable</span>
<span class="n">Concs</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">]</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">temp</span> <span class="ow">in</span> <span class="n">Temps</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Molecules</span><span class="p">)):</span>
        <span class="k">for</span> <span class="n">conc</span> <span class="ow">in</span> <span class="n">Concs</span><span class="p">:</span>
            <span class="n">A</span> <span class="o">=</span> <span class="n">Absorptivity</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">*</span> <span class="n">conc</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">((</span><span class="mi">273</span> <span class="o">+</span> <span class="n">temp</span><span class="p">)</span> <span class="o">/</span> <span class="mi">300</span><span class="p">)</span>
            <span class="n">A</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.05</span>
            <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">conc</span><span class="p">,</span> <span class="n">Molecules</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">temp</span><span class="p">])</span>
            
<span class="n">AbsDF</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">cols</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">'Conc'</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">'Abs'</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s">'Molecule'</span><span class="p">,</span> 
           <span class="n">col</span><span class="o">=</span><span class="s">'Temp'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">AbsDF</span><span class="p">,</span> <span class="n">col_wrap</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="/assets/posts/2016-10-26-The-Scientific-Computing-Toolkit-for-Python/output_59_0.png" alt="png" /></p>


  </div><a class="u-url" href="/2016/10/26/The-Scientific-Computing-Toolkit-for-Python.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Evan&#39;s Blog!</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Evan&#39;s Blog!</li><li><a class="u-email" href="mailto:evanmcurtin@gmail.com">evanmcurtin@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/ecurtin2"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">ecurtin2</span></a></li><li><a href="https://www.twitter.com/emc923"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">emc923</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Overthinking simple questions since 2016 (kinda).</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
